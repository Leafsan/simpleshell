한양대학교 ERICA Operating Systems Project 보고서
========
기계공학과 2015040719 최우경


기본 설명
--------------
이전에 다른 강의에서 셸 프로그래밍을 해본 적이 있기에 해당 내용을 기반으로 다시 프로그래밍을 하였다. 알고리즘을 설명하기 전에 셸의 개념과 그 기능에 대해서 간략하게 설명할 것이다.

기본 파일 설명
--------------
* Makefile: make를 행함.
* Executer.c: 파싱된 명령문을 실행하고, built-in 명령문들이 포함되어있다.
* Parser.c: 저장된 명령문을 파싱함.
* PromptPrinter.c: 지속적으로 터미널에 프롬프트를 출력함.
* WordReader.c: 입력된 명령문을 읽고 버퍼에 저장함.
* simpleshell.c: main 함수가 존재한다. 내부적인 기능은 존재하지 않으며, 다른 파일에서 함수를 불러와서 기능대로 동작시킨다.
* simpleshell.h: 다른 C 파일들의 내용물을 받아서 전달한다.

## 셸의 개념
### 셸 기능
셸은 크게 다음 세단계로 동작한다.

1. Initialize : 일반적으로 configuration을 읽어오고 지정된 환경을 불러들여 적용하는 단계이다.
2. Interpret : 실질적으로 입력된 명령문을 읽고 수행하게 된다.
3. Terminate : 종료 명령문을 받으면 종료한다.

위 기능들 중 Interpret가 실질적으로 Shell이 하는 기능을 담고 있다고 보면 된다.

### Interpret의 구성
Interpret는 다음과 같은 기능을 가지고 있다.
1. read : 명령문을 읽어들인다.
2. parse : 명령문을 parsing해서 단어로 분할한다.
3. execute : 명령문을 수행한다.

## Simple Shell

### 기능요약
내가 만든 셸은 다음 기능을 행한다.

* 프롬프트 출력: 현재 디렉토리를 읽어내고 명령문 수행이 끝나면 반복적으로 출력하게 된다.
* 명령문 수행: 셸의 기본적인 기능대로 명령문을 read, parse, execute한다. 개중에 Builtin 명령문은 exit와 작동을 시험하기 위해 만든 test 뿐이다.
* 파이프라인: 이전 명령문의 출력을 파이프라인을 통해 그 다음 명령문으로 전달한다.
* 리다이렉션: 파일 디스크립트를 통해 파일을 입력하거나 출력한다.
* 백그라운드: 프로세스를 백그라운드 상에서 수행할 수 있도록 한다.

### 알고리즘 요약
<img src="https://raw.githubusercontent.com/Leafsan/simpleshell/master/reports/%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98%20%EC%B0%A8%ED%8A%B8%ED%94%8C%EB%A1%9C%EC%9A%B0.png">
위는 내가 만든 셸 알고리즘의 차트플로우를 간략하게 나타낸 것이다. 완전하지는 않지만 해당 알고리즘으로 충분하다고 가정하고 개발을 시작했다.
기본적으로 위의 흐름대로 동작하지만 자세한 설명은 뒤에 설명한다.
